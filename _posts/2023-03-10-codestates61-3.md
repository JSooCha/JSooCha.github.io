---
title: Session
excerpt: Session
categories: CS
tags: [codestates, CS]
toc: true
toc_sticky: true
author_profile: true
sidebar_main: true
published : false
---

# Session
- 서버가 클라이언트에 유일하고 암호화된 ID 부여
- 사용자가 인증에 성공한 상태
- 중요 데이터는 서버에서 관리

## 세션기반 인증 (Session-based Authentication)
### 로그인
- 웹사이트에서 로그인 시도 - 정확한 아이디와 비밀번호를 입력했다면, 서버는 인증(Authentication)에 성공했다고 판단 - 인증을 필요로 하는 작업(장바구니에 물품 추가)을 요청할 경우, 로그인 과정을 다시 거칠 필요가 없음  
-> 세션을 통해 서버가 해당 유저가 인증에 성공했음을 알고 있기 때문
  - 서버는 일종의 저장소에 세션 저장. 주로 in-memory 또는 세션 스토어(redis 등과 같은 트랜잭션이 빠른 DB)에 저장
  - 세션이 만들어지면, 각 세션을 구분할 수 있는 세션 아이디가 만들어짐. 보통 클라이언트에 세션 성공을 증명할 수단으로써 세션 아이디를 전달함
  - 웹사이트에서 로그인을 유지하기 위한 수단으로 쿠키를 사용. 쿠키에는 서버에서 발급한 세션 아이디 저장
  - 쿠키를 통해 유효한 세션 아이디가 서버에 전달되고, 세션 스토어에 해당 세션이 존재한다면 서버는 해당 요청에 접근 가능하다고 판단

### 로그아웃
- 서버는 세션 아이디로만 인증 여부를 판단
- 세션 아이디가 담긴 쿠키는 클라이언트에 저장되어 있으며, 서버는 세션을 저장하고 있음
  - 서버 : 세션 정보 삭제  
  - 클라이언트 : 쿠키 갱신
  - 서버가 클라이언트의 쿠키를 임의로 삭제할 수는 없음. 대신, set-cookie로 클라이언트에게 쿠키를 전송할 때 세션 아이디의 키값을 무효한 값으로 갱신 가능
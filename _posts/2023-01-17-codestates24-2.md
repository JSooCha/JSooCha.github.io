---
title: Binary Search Tree
excerpt: 자료 구조의 이해
categories: Algorithm
tags: [codestates, Java]
toc: true
toc_sticky: true
author_profile: true
sidebar_main: true
published : true
---

## 이진 트리(binary tree) 
- 각 노드가 최대 2개의 자식 노드를 가지는 트리
- 이진 탐색 트리와 이진 힙 구현, 효율적인 검색과 정렬을 위해 사용
- 자료의 삽입, 삭제 방법에 따라 종류가 나뉨

### 정 이진 트리(Full binary tree) 
- 각 노드가 0개 혹은 2개의 자식 노드를 가지는 트리

### 완전 이진 트리(Complete binary tree)
- 마지막 레벨을 제외한 모든 노드가 가득 찬 트리
  - 마지막 레벨의 노드는 전부 차 있지 않아도 되지만, 왼쪽은 채워져야 함

### 포화 이진 트리(Perfect binary tree)
- 정 이진 트리이면서 완전 이진 트리인 트리
  - 모든 리프 노드의 레벨이 같고, 모든 레벨이 가득 채워져 있음

<br>

## 이진 탐색
- 정렬된 데이터 중에서 특정한 값을 찾기 위한 탐색 알고리즘
- 오름차순으로 정렬된 데이터를 같은 크기의 두 부분으로 나눈 후, 두 부분 중 탐색이 필요한 부분에서 원하는 값을 찾음

### 탐색 과정
1. 전체 데이터의 중간(Root)에서 찾고자 하는 값이 있는지 확인
2. 중간값이 해당 값이 아닐 경우, 오름차순으로 정렬된 데이터에서 중간값보다 큰 값인지 작은 값인지 판단
3. 해당 값이 중간값보다 작은 값일 경우, 데이터의 맨 앞부터 중간값 전까지의 범위를 반복 탐색
4. 해당 값이 중간값보다 큰 값일 경우, 중간값의 다음 값부터 맨 마지막까지 반복 탐색

<br>

## 이진 탐색 트리(Binary Search Tree)
- 이진 탐색을 이진 트리에 적용
  - 루트 노드가 전체 데이터의 중간값
    - 루트노드의 왼쪽 서브 트리는 모두 루트 노드보다 작은 값, 오른쪽 서브 트리에는 모두 루트 노드보다 큰 값들이 저장됨
- 각 노드의 왼쪽 서브 트리에는 해당 노드보다 작은 값, 오른쪽 서브 트리에는 해당 노드보다 큰 값들이 저장됨
  
### 특징
- 각 노드에 중복되지 않는 키(Key) 존재
  - 노드의 값
- 각 노드의 좌우 서브 트리도 모두 이진 탐색 트리
- 모든 왼쪽 자식의 값이 루트나 부모보다 작고, 모든 오른쪽 자식의 값이 루트나 부모보다 큰 값을 가짐
- 균형 잡힌 트리가 아닐 때, 입력되는 값의 순서에 따라 한쪽으로 노드들이 몰리게 될 수 있음
  - 균형이 잡히지 않은 트리는 탐색 시간이 더 걸릴 수 있음
    - 삽입과 삭제마다 트리의 구조를 재조정하는 과정을 거치는 알고리즘 추가 
- 기존 이진 트리보다 탐색 속도가 빠름
  - o(h)의 복잡도를 가짐

### 탐색 과정
1. 루트 노드의 키와 찾을 값을 비교
    - 두 값이 일치하면 탐색 종료
2. 찾을 값이 루트 노드의 키보다 작으면, 왼쪽 서브 트리에서 탐색
3. 찾을 값이 루트 노드의 키보다 크면, 오른쪽 서브 트리에서 탐색
4. 해당 값을 찾을 때까지 반복 
5. 만약, 값을 찾지 못하면 연산 종료

- 트리 안의 값을 찾는다면, 트리의 높이(h) 이하의 탐색이 이루어짐
- 트리 안에 찾고자 하는 값이 없더라도, 최대 h번(트리의 높이)만큼의 연산 및 탐색이 진행됨

### 노드 추가
- 노드의 값이 현재 노드보다 작으면 왼쪽 서브 트리에, 크면 오른쪽 서브 트리에 추가
  - 노드를 삽입하려는 위치까지 재귀적으로 탐색하며 이루어짐
- 삽입된 노드를 기준으로 다시 한번 왼쪽과 오른쪽 서브 트리가 이진 탐색 트리의 특성을 만족하는지 확인하여 트리의 구조 유지


### 노드 삭제

#### 삭제할 노드가 리프 노드인 경우
- 자식 노드가 없으므로, 그냥 삭제 가능

#### 삭제할 노드의 자식 노드가 하나인 경우
- 삭제할 노드의 부모 노드와 삭제할 노드의 자식 노드를 연결

#### 삭제할 노드가 자식 노드가 두 개인 경우
- 삭제할 노드를 대체할 노드를 찾음
    - 삭제할 노드의 오른쪽 서브 트리 중 가장 작은 값의 노드, 혹은 삭제할 노드의 왼쪽 서브 트리 중 가장 큰 값의 노드여야 함
- 삭제할 노드와 대체할 노드를 서로 교환
- 삭제할 노드의 자식 유무에 따라, 다시 삭제 작업을 재귀적으로 수행하며 트리의 구조 유지



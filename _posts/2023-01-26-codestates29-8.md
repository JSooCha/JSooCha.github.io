---
title: SSR / CSR
excerpt: SSR, CSR
categories: CS
tags: [codestates, CS]
toc: true
toc_sticky: true
author_profile: true
sidebar_main: true
published : true
---


## SSR (Server Side Rendering)
- 서버에서 웹 페이지를 렌더링하여 사용자에게 보여주는 방식
  - Javascript 코드가 서버에서 렌더링 수행

### 과정
- 브라우저가 서버에 GET 요청을 보냄
- 서버는 요청에 해당하는 파일을 완전히 렌더링하고, 브라우저로 전송
  - 서버의 웹 페이지가 브라우저에 도착하면 완전히 렌더링된 것
  - 웹 페이지에 데이터베이스의 데이터가 필요한 경우, 서버는 데이터베이스에서 데이터를 불러오고 렌더링을 수행함
- 브라우저가 다른 경로로 이동할 때마다 서버는 이 작업을 다시 수행

### Use 
- SEO(Search Engine Optimization)가 우선순위인 경우, 일반적으로 사용
- 단일 파일의 용량이 적으므로, 웹 페이지의 첫 화면 렌더링이 빠르게 필요한 경우에 적합
- 웹 페이지가 사용자와 상호작용이 적은 경우

### Risks
- 자원이용이 서버에 집중되므로 애플리케이션 유지비용이 높음
- 일부 서드파티 Javascript 라이브러리의 경우, ssr 이 불가능할 수 있음

### 예시
- 네이버 블로그
  - 2020년에 SSR 방식을 도입
  - 대표적 이유로, 검색엔진 최적화(Search Engine Optimization, SEO)에 유리한 이점이 있기 때문
    - 블로그는 검색엔진에 최대한 노출되는 게 유리하고, 다른 웹사이트에 비해 사용자와 상호작용이 많지 않기 때문에 합리적인 선택
  - 네이버 블로그의 네트워크 탭을 보면 html 파일에 내용이 똑같이 담겨 있음
    - 구글, 네이버 같은 검색엔진 크롤러가 html에 접근하여 쉽게 내용을 가져갈 수 있음
- The NewYork Times
  - 많은 사용자가 클릭할 때마다 전체 웹사이트를 다시 서버에서 받아오기 때문에 서버 과부하 이슈가 있음에도 불구하고, CSR에 비해 초기 로딩 속도가 빠르기 때문에 구독자가 신문기사를 빠르게 읽을 수 있음
  - 해당 신문사의 기사가 검색엔진에 노출되는 것이 중요하기 때문에 SEO(Search Engine Optimization)에 유리한 SSR 이용
  - todayspaper 라는 완성된 html 파일을 받아와 렌더링
    - 해당 html 파일 안에 내용이 그대로 담겨있어, 검색엔진 크롤러가 내용을 수집하기 용이함

<br>

## CSR (Client Side Rendering)
- 클라이언트에서 웹 페이지를 렌더링하는 방식
  - Javascript 코드가 클라이언트에서 렌더링 수행

### 과정
- 브라우저가 서버에 GET 요청을 보냄 
- 서버는 웹 페이지의 골격이 될 단일 페이지와 JavaScript 파일을 클라이언트에 전송 
- 클라이언트가 웹 페이지를 받으면, JavaScript 파일은 브라우저에서 웹 페이지를 완전히 렌더링 된 페이지로 변환
  - 웹 페이지에 데이터베이스의 데이터가 필요한 경우, API 요청을 통해 데이터를 받음
- 브라우저는 사용자가 다른 경로를 요청할 때마다 페이지를 새로고침 하지 않고, 동적으로 라우팅을 관리
  - 서버가 웹 페이지를 다시 보내지 않으므로 요청한 경로에 따라 페이지를 다시 렌더링 
    - 이때 보이는 웹 페이지의 파일은 처음 서버로부터 전달받은 웹 페이지 파일과 동일한 파일

### Use 
- SEO(Search Engine Optimization)가 우선순위가 아닌 경우
- 사용자와 풍부한 상호 작용이 있는 경우, 빠른 라우팅으로 강력한 사용자 경험 제공
- 웹 애플리케이션 제작 시, 더 나은 사용자 경험(빠른 동적 렌더링 등)을 제공 가능

### Risks
- 느린 렌더링 속도로 사용자 경험이 안 좋아질 수 있음
  - 모든 렌더링의 부하가 클라이언트에 집중되므로 사용자에 따라 경험이 달라질 수 있음
- search engine bots 와 상성이 좋지 않음 
  - Javascript가 렌더링해야 하는 정보들은 Google과 같은 search engine index에 포함이 안될 가능성이 매우 높음

### 예시
- 아고다
  - 많은 예약 사이트들이 CSR을 사용
  - SSR은 서버에서 렌더링을 해야 하기 때문에 상호작용이 많아질수록 서버에 부담이 많은 반면, CSR에서는 서버가 클라이언트에 필요한 데이터만 넘겨주기 때문에 부담이 적음 
  - SPA(Single Page Application)를 기반으로 화면의 일부만 받아온 데이터로 변경해 주기 때문에 빠른 렌더링으로 User Experience(사용자 경험)에 유리
  - 최근까지는 html이 빈 페이지이기 때문에 검색엔진 최적화(SEO)를 하기에는 SSR에 비해 불리하였으나, 구글에서 이러한 부분을 보완하기 위해 삽입된 Javascript 코드를 분석, 실행시켜 크롤링을 하고 있음
    - 검색엔진 최적화가 꼭 필요한 서비스라면 조금 더 최적화에 유리한 SSR을 사용하는 것을 권장


### 이외 키워드
- CORS



